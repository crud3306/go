
æ ‘
================
æ ‘æ˜¯ä¸€ç§æ¯”è¾ƒé«˜çº§çš„åŸºç¡€æ•°æ®ç»“æ„ï¼Œç”±nä¸ªæœ‰é™èŠ‚ç‚¹ç»„æˆçš„å…·æœ‰å±‚æ¬¡å…³ç³»çš„é›†åˆã€‚


æ ‘çš„å®šä¹‰ï¼š

- æœ‰èŠ‚ç‚¹é—´çš„å±‚æ¬¡å…³ç³»ï¼Œåˆ†ä¸ºçˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ã€‚
- æœ‰å”¯ä¸€ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œè¯¥æ ¹èŠ‚ç‚¹æ²¡æœ‰çˆ¶èŠ‚ç‚¹ã€‚
- é™¤äº†æ ¹èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸”åªæœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ã€‚
- æ¯ä¸€ä¸ªèŠ‚ç‚¹æœ¬èº«ä»¥åŠå®ƒçš„åä»£ä¹Ÿæ˜¯ä¸€æ£µæ ‘ï¼Œæ˜¯ä¸€ä¸ªé€’å½’çš„ç»“æ„ã€‚
- æ²¡æœ‰åä»£çš„èŠ‚ç‚¹ç§°ä¸ºå¶å­èŠ‚ç‚¹ï¼Œæ²¡æœ‰èŠ‚ç‚¹çš„æ ‘ç§°ä¸ºç©ºæ ‘ã€‚


äºŒå‰æ ‘ï¼šæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šåªæœ‰ä¸¤ä¸ªå„¿å­èŠ‚ç‚¹çš„æ ‘ã€‚

æ»¡äºŒå‰æ ‘ï¼šå¶å­èŠ‚ç‚¹ä¸å¶å­èŠ‚ç‚¹ä¹‹é—´çš„é«˜åº¦å·®ä¸º0çš„äºŒå‰æ ‘ï¼Œå³æ•´é¢—æ ‘æ˜¯æ»¡çš„ï¼Œæ ‘å‘ˆæ»¡ä¸‰è§’å½¢ç»“æ„ã€‚åœ¨å›½å¤–çš„å®šä¹‰ï¼Œéå¶å­èŠ‚ç‚¹å„¿å­éƒ½æ˜¯æ»¡çš„æ ‘å°±æ˜¯æ»¡äºŒå‰æ ‘ã€‚æˆ‘ä»¬ä»¥å›½å†…ä¸ºå‡†ã€‚

å®Œå…¨äºŒå‰æ ‘ï¼šå®Œå…¨äºŒå‰æ ‘æ˜¯ç”±æ»¡äºŒå‰æ ‘è€Œå¼•å‡ºæ¥çš„ï¼Œè®¾äºŒå‰æ ‘çš„æ·±åº¦ä¸ºkï¼Œé™¤ç¬¬kå±‚å¤–ï¼Œå…¶ä»–å„å±‚çš„èŠ‚ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§å€¼ï¼Œä¸”ç¬¬kå±‚æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½è¿ç»­é›†ä¸­åœ¨æœ€å·¦è¾¹ã€‚


```
äºŒå‰æŸ¥æ‰¾æ ‘ï¼šæ„é€ ä¸€é¢—æ ‘ï¼Œæœ‰ä¸ªæ ‘æ ¹ï¼Œå°±æ˜¯æœ€è€å¤§çš„èŠ‚ç‚¹ï¼Œæ ‘æ ¹ä¸‹é¢æœ‰ä¸¤ä¸ªåˆ†å‰ï¼Œæ¯ä¸ªåˆ†å‰çš„ä¸‹é¢çš„ç»“ç‚¹åˆæœ‰åˆ†æ”¯ï¼Œæ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œå®ƒçš„å·¦å„¿å­éƒ½æ¯”å®ƒå°ï¼Œå³å„¿å­éƒ½æ¯”å®ƒå¤§ï¼Œæ‰€æœ‰çš„æ ‘éƒ½é€’å½’å¦‚æ­¤ï¼Œè¿™æ ·æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹çš„è¯å°±å¯ä»¥è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ã€‚

å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼šå¦‚æœä¸€é¢—äºŒå‰æŸ¥æ‰¾æ ‘å¤ªå¤šå±‚äº†ï¼ŒäºŒåˆ†æŸ¥æ‰¾ä¹Ÿä¼šå˜æ…¢ï¼Œå› ä¸ºæœ€åæƒ…å†µï¼Œæœ‰å¤šå°‘å±‚å°±è¦æ‰¾å¤šå°‘æ¬¡ï¼Œæ‰€ä»¥è¦å·§å¦™è®©äºŒå‰æŸ¥æ‰¾æ ‘çš„å±‚æ¬¡å˜å°‘ï¼Œå°±å‡ºç°äº†å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ã€‚å¹³è¡¡çš„æ„æ€å°±æ˜¯ï¼Œè¿™é¢—æ ‘æœ€åçš„èŠ‚ç‚¹ä»¬ï¼Œä¹Ÿå°±æ˜¯å¶å­èŠ‚ç‚¹ï¼Œä»–ä»¬çš„èŠ‚ç‚¹å±‚æ•°ä¸èƒ½ç›¸å·®å¤ªå¤§ï¼Œå¤§å®¶è¦å¹³è¡¡ï¼Œä¸èƒ½æœ‰çš„äººé«˜é«˜åœ¨ä¸Šã€‚

å¤šå‰æŸ¥æ‰¾æ ‘ï¼šä¸€é¢—äºŒå‰æ ‘ï¼Œå¦‚æœæ•°æ®å¤šäº†ï¼Œé‚£ä¹ˆå±‚çº§è‚¯å®šå°±å¤šäº†ï¼Œæ‰€ä»¥è¿˜å¯ä»¥å‡ºå¤šä¸ªå‰çš„ğŸŒ²ï¼Œå«å¤šå‰æŸ¥æ‰¾æ ‘ï¼Œæ¯”å¦‚ä¸‰å‰æ ‘ï¼Œå››å‰æ ‘ï¼ŒæŸ¥æ‰¾ç”¨äºŒåˆ†æŸ¥æ‰¾å°±æ›´å¿«äº†ï¼Œå› ä¸ºå¤šå‰äº†ï¼Œç›¸åŒæ•°é‡çš„èŠ‚ç‚¹ï¼Œå±‚æ•°å°±å°‘äº†ã€‚å—¯ï¼Œè¿™ç§æ ‘å…¶å®å« Bæ ‘ï¼ˆbalance treeï¼‰ï¼Œä¸‹é¢ä¼šè®²åˆ°ã€‚

çº¢é»‘æ ‘ï¼šç»å¸¸å¬è¯´çš„çº¢é»‘æ ‘ï¼Œæ˜¯ä¸€ç§å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå¯ä»¥ä» 2-3æ ‘ æˆ–è€… 2-3-4æ ‘ å¤šå‰æ ‘è¡ç”Ÿè€Œæ¥ï¼Œå…¶å®ï¼Œ2-3æ ‘ å’Œ 2-3-4æ ‘ ä¹Ÿæ˜¯Bæ ‘çš„ä¸€ç§ï¼Œæ‰€ä»¥ä¸€å¼€å§‹çº¢é»‘æ ‘ä¹Ÿè¢«äººå«å¯¹ç§°Bæ ‘ï¼Œå¹³è¡¡äºŒå‰Bæ ‘ã€‚å¯ä»¥ç”¨ 2-3æ ‘ æˆ– 2-3-4 äºŒå‰æ ‘çš„å½¢å¼æ¥å®ç°çº¢é»‘æ ‘ã€‚

Bå’ŒB+æ ‘ï¼šBæ ‘ï¼Œæœ‰Nä¸ªå‰ï¼Œå«Nå‰ğŸŒ²ï¼Œå®ƒæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æºå¸¦æ•°æ®ï¼Œå’ŒäºŒå‰æŸ¥æ‰¾æ ‘çš„é€»è¾‘å¤§åŒå°å¼‚ã€‚B+æ ‘åœ¨Bæ ‘çš„åŸºç¡€ä¸Šï¼Œå°†æ‰€æœ‰æ•°æ®æŒªåˆ°å¶å­èŠ‚ç‚¹ï¼Œè€Œå…¶ä»–èŠ‚ç‚¹ä¸æºå¸¦æ•°æ®ï¼Œç„¶åå°†å¶å­èŠ‚ç‚¹è¿™äº›æ•°æ®åˆé¡ºåºç©¿èµ·æ¥å½¢æˆä¸€æ¡é“¾è¡¨ï¼Œè¿™æ ·äºŒåˆ†æŸ¥æ‰¾åˆ°è¾¾å¶å­èŠ‚ç‚¹æŸä¸ªå€¼æ—¶ï¼Œå¯¹å¤§äºè¿™ä¸ªå€¼æˆ–å°äºè¿™ä¸ªå€¼çš„ï¼Œéƒ½å¯ä»¥é¡ºåºéå†æœ€åº•éƒ¨çš„é‚£ä¸ªé“¾è¡¨ï¼ŒèŒƒå›´æŸ¥æ‰¾é€Ÿåº¦æå¤§æå‡ã€‚MySQLä½¿ç”¨åˆ°äº†B+æ ‘ï¼Œå› ä¸ºæœ‰èŒƒå›´æŸ¥è¯¢ã€‚è€ŒMongoè¿™ä¸ªæ–‡æ¡£å‹éå…³ç³»æ•°æ®åº“ç”¨äº†Bæ ‘ã€‚

B+æ ‘å®ç°äº†é¡ºåºæ£€ç´¢ï¼Œä¸”å¤šå‰ï¼Œæ¯æ¬¡æ•°æ®åº“ç®¡ç†ç³»ç»Ÿè¿è¡Œæ—¶ï¼Œå¦‚MySQLï¼Œéƒ½ä¼šé©¬ä¸Šä»ç£ç›˜åŠ è½½æ•°æ®ï¼Œè½¬åŒ–æˆä¸€ä¸ªB+æ ‘ï¼ŒåŠ è½½åœ¨å†…å­˜ä¸­ï¼ŒåŒæ—¶åŠ è½½çš„æ•°æ®é‡ï¼Œåˆšå¥½æ˜¯å†…å­˜é¡µçš„å¤§å°ï¼Œç„¶åæ“ä½œç³»ç»Ÿè™šæ‹Ÿå†…å­˜LRUç®—æ³•åƒå¾€å¸¸ä¸€æ ·è¿›è¡Œé¡µé¢ç½®æ¢ï¼Œè¿™æ ·ä¸€ä¸‹å­åŠ è½½ï¼Œç‰¹åˆ«å¿«ï¼
```



æ ‘æ ¹æ®å„¿å­èŠ‚ç‚¹çš„å¤šå¯¡ï¼Œæœ‰äºŒå‰æ ‘ï¼Œä¸‰å‰æ ‘ï¼Œå››å‰æ ‘ç­‰ï¼Œæˆ‘ä»¬è¿™é‡Œä¸»è¦ä»‹ç»äºŒå‰æ ‘ã€‚





ä¸€ã€äºŒå‰æ ‘çš„æ•°å­¦ç‰¹å¾
=================
- é«˜åº¦ä¸ºhâ‰¥0çš„äºŒå‰æ ‘è‡³å°‘æœ‰h+1ä¸ªç»“ç‚¹ï¼Œæ¯”å¦‚æœ€ä¸å¹³è¡¡çš„äºŒå‰æ ‘å°±æ˜¯é€€åŒ–çš„çº¿æ€§é“¾è¡¨ç»“æ„ï¼Œæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½åªæœ‰å·¦å„¿å­èŠ‚ç‚¹ï¼Œæˆ–è€…æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½åªæœ‰å³å„¿å­èŠ‚ç‚¹ã€‚

- é«˜åº¦ä¸ºhâ‰¥0çš„äºŒå‰æ ‘è‡³å¤šæœ‰2^h+1ä¸ªèŠ‚ç‚¹ï¼Œæ¯”å¦‚è¿™é¢—æ ‘æ˜¯æ»¡äºŒå‰æ ‘ã€‚

- å«æœ‰nâ‰¥1ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘çš„é«˜åº¦è‡³å¤šä¸ºn-1ï¼Œç”±1é€€åŒ–çš„çº¿æ€§é“¾è¡¨å¯ä»¥åæ¨ã€‚

- å«æœ‰nâ‰¥1ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘çš„é«˜åº¦è‡³å°‘ä¸ºlognï¼Œç”±2æ»¡äºŒå‰æ ‘å¯ä»¥åæ¨ã€‚

- åœ¨äºŒå‰æ ‘çš„ç¬¬iå±‚ï¼Œè‡³å¤šæœ‰2^(i-1)ä¸ªèŠ‚ç‚¹ï¼Œæ¯”å¦‚è¯¥å±‚æ˜¯æ»¡çš„ã€‚



äºŒã€äºŒå‰æ ‘çš„å®ç°
=================
äºŒå‰æ ‘å¯ä»¥ä½¿ç”¨é“¾è¡¨æ¥å®ç°ã€‚å¦‚ä¸‹ï¼š
```golang
// äºŒå‰æ ‘
type TreeNode struct {
    Data  string    // èŠ‚ç‚¹ç”¨æ¥å­˜æ”¾æ•°æ®
    Left  *TreeNode // å·¦å­æ ‘
    Right *TreeNode // å³å­—æ ‘
}
```
å½“ç„¶ï¼Œæ•°ç»„ä¹Ÿå¯ä»¥ç”¨æ¥è¡¨ç¤ºäºŒå‰æ ‘ï¼Œä¸€èˆ¬ç”¨æ¥è¡¨ç¤ºå®Œå…¨äºŒå‰æ ‘ã€‚

å¯¹äºä¸€é¢—æœ‰nä¸ªèŠ‚ç‚¹çš„å®Œå…¨äºŒå‰æ ‘ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œä»å·¦åˆ°å³è¿›è¡Œåºå·ç¼–å·ï¼Œå¯¹äºä»»ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç¼–å·i=0è¡¨ç¤ºæ ‘æ ¹èŠ‚ç‚¹ï¼Œç¼–å·içš„èŠ‚ç‚¹çš„å·¦å³å„¿å­èŠ‚ç‚¹ç¼–å·åˆ†åˆ«ä¸ºï¼š2i+1,2i+2ï¼Œçˆ¶äº²èŠ‚ç‚¹ç¼–å·ä¸ºï¼ši/2ï¼Œæ•´é™¤æ“ä½œå»æ‰å°æ•°ã€‚

å¦‚å›¾æ˜¯ä¸€é¢—å®Œå…¨äºŒå‰æ ‘ï¼Œæ•°ç»„çš„è¡¨ç¤ºï¼š
```sh
                A
            /        \
        B               C
    /       \          /
   D         E        F


#æ•°ç»„è¡¨ç¤º
A B C D E F
1 2 3 4 5 6
```


æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨äºŒå‰æ ‘æ¥å®ç°æŸ¥æ‰¾çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æ ‘èŠ‚ç‚¹ç»“æ„ä½“é‡Œå­˜æ”¾æ•°æ®çš„Dataå­—æ®µã€‚



ä¸‰ã€éå†äºŒå‰æ ‘
=================
æ„å»ºä¸€é¢—æ ‘åï¼Œæˆ‘ä»¬å¸Œæœ›éå†å®ƒï¼Œæœ‰å››ç§éå†æ–¹æ³•ï¼š

- å…ˆåºéå†ï¼šå…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œå†è®¿é—®å·¦å­æ ‘ï¼Œæœ€åè®¿é—®å³å­æ ‘ã€‚
- ååºéå†ï¼šå…ˆè®¿é—®å·¦å­æ ‘ï¼Œå†è®¿é—®å³å­æ ‘ï¼Œæœ€åè®¿é—®æ ¹èŠ‚ç‚¹ã€‚
- ä¸­åºéå†ï¼šå…ˆè®¿é—®å·¦å­æ ‘ï¼Œå†è®¿é—®æ ¹èŠ‚ç‚¹ï¼Œæœ€åè®¿é—®å³å­æ ‘ã€‚
- å±‚æ¬¡éå†ï¼šæ¯ä¸€å±‚ä»å·¦åˆ°å³è®¿é—®æ¯ä¸€ä¸ªèŠ‚ç‚¹ã€‚


å…ˆåºï¼Œååºå’Œä¸­åºéå†è¾ƒç®€å•ï¼Œä»£ç å¦‚ä¸‹ï¼š
```golang
package main

import (
    "fmt"
)

// äºŒå‰æ ‘
type TreeNode struct {
    Data  string    // èŠ‚ç‚¹ç”¨æ¥å­˜æ”¾æ•°æ®
    Left  *TreeNode // å·¦å­æ ‘
    Right *TreeNode // å³å­—æ ‘
}

// å…ˆåºéå†
func PreOrder(tree *TreeNode) {
    if tree == nil {
        return
    }

    // å…ˆæ‰“å°æ ¹èŠ‚ç‚¹
    fmt.Print(tree.Data, " ")
    // å†æ‰“å°å·¦å­æ ‘
    PreOrder(tree.Left)
    // å†æ‰“å°å³å­—æ ‘
    PreOrder(tree.Right)
}

// ä¸­åºéå†
func MidOrder(tree *TreeNode) {
    if tree == nil {
        return
    }

    // å…ˆæ‰“å°å·¦å­æ ‘
    MidOrder(tree.Left)
    // å†æ‰“å°æ ¹èŠ‚ç‚¹
    fmt.Print(tree.Data, " ")
    // å†æ‰“å°å³å­—æ ‘
    MidOrder(tree.Right)
}

// ååºéå†
func PostOrder(tree *TreeNode) {
    if tree == nil {
        return
    }

    // å…ˆæ‰“å°å·¦å­æ ‘
    MidOrder(tree.Left)
    // å†æ‰“å°å³å­—æ ‘
    MidOrder(tree.Right)
    // å†æ‰“å°æ ¹èŠ‚ç‚¹
    fmt.Print(tree.Data, " ")
}

func main() {
    t := &TreeNode{Data: "A"}
    t.Left = &TreeNode{Data: "B"}
    t.Right = &TreeNode{Data: "C"}
    t.Left.Left = &TreeNode{Data: "D"}
    t.Left.Right = &TreeNode{Data: "E"}
    t.Right.Left = &TreeNode{Data: "F"}

    fmt.Println("å…ˆåºæ’åºï¼š")
    PreOrder(t)
    fmt.Println("\nä¸­åºæ’åºï¼š")
    MidOrder(t)
    fmt.Println("\nååºæ’åº")
    PostOrder(t)
}
```

è¡¨ç¤ºå°†ä»¥ä¸‹ç»“æ„çš„æ ‘è¿›è¡Œéå†ï¼š
```sh
                A
            /        \
        B               C
    /       \          /
   D         E        F


#æ•°ç»„è¡¨ç¤º
A B C D E F
1 2 3 4 5 6
```


ç»“æœå¦‚ä¸‹ï¼š
```sh
å…ˆåºæ’åºï¼š
A B D E C F 

ä¸­åºæ’åºï¼š
D B E A F C 

ååºæ’åº
D B E F C A
```

å±‚æ¬¡éå†è¾ƒå¤æ‚ï¼Œç”¨åˆ°ä¸€ç§åå«å¹¿åº¦éå†çš„æ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨è¾…åŠ©çš„å…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ã€‚

- å…ˆå°†æ ‘çš„æ ¹èŠ‚ç‚¹æ”¾å…¥é˜Ÿåˆ—ã€‚
- ä»é˜Ÿåˆ—é‡Œé¢removeå‡ºèŠ‚ç‚¹ï¼Œå…ˆæ‰“å°èŠ‚ç‚¹å€¼ï¼Œå¦‚æœè¯¥èŠ‚ç‚¹æœ‰å·¦å­æ ‘èŠ‚ç‚¹ï¼Œå·¦å­æ ‘å…¥æ ˆï¼Œå¦‚æœæœ‰å³å­æ ‘èŠ‚ç‚¹ï¼Œå³å­æ ‘å…¥æ ˆã€‚
- é‡å¤2ï¼Œç›´åˆ°é˜Ÿåˆ—é‡Œé¢æ²¡æœ‰å…ƒç´ ã€‚

æ ¸å¿ƒé€»è¾‘å¦‚ä¸‹ï¼š
```golang
func LayerOrder(treeNode *TreeNode) {
    if treeNode == nil {
        return
    }

    // æ–°å»ºé˜Ÿåˆ—
    queue := new(LinkQueue)
    // æ ¹èŠ‚ç‚¹å…ˆå…¥é˜Ÿ
    queue.Add(treeNode)
    for queue.size > 0 {
        // ä¸æ–­å‡ºé˜Ÿåˆ—
        element := queue.Remove()

        // å…ˆæ‰“å°èŠ‚ç‚¹å€¼
        fmt.Print(element.Data, " ")

        // å·¦å­æ ‘éç©ºï¼Œå…¥é˜Ÿåˆ—
        if element.Left != nil {
            queue.Add(element.Left)
        }

        // å³å­æ ‘éç©ºï¼Œå…¥é˜Ÿåˆ—
        if element.Right != nil {
            queue.Add(element.Right)
        }
    }
}
```

å®Œæ•´ä»£ç ï¼š
```golang
package main

import (
    "fmt"
    "sync"
)

// äºŒå‰æ ‘
type TreeNode struct {
    Data  string    // èŠ‚ç‚¹ç”¨æ¥å­˜æ”¾æ•°æ®
    Left  *TreeNode // å·¦å­æ ‘
    Right *TreeNode // å³å­—æ ‘
}

func LayerOrder(treeNode *TreeNode) {
    if treeNode == nil {
        return
    }

    // æ–°å»ºé˜Ÿåˆ—
    queue := new(LinkQueue)

    // æ ¹èŠ‚ç‚¹å…ˆå…¥é˜Ÿ
    queue.Add(treeNode)
    for queue.size > 0 {
        // ä¸æ–­å‡ºé˜Ÿåˆ—
        element := queue.Remove()

        // å…ˆæ‰“å°èŠ‚ç‚¹å€¼
        fmt.Print(element.Data, " ")

        // å·¦å­æ ‘éç©ºï¼Œå…¥é˜Ÿåˆ—
        if element.Left != nil {
            queue.Add(element.Left)
        }

        // å³å­æ ‘éç©ºï¼Œå…¥é˜Ÿåˆ—
        if element.Right != nil {
            queue.Add(element.Right)
        }
    }
}

// é“¾è¡¨èŠ‚ç‚¹
type LinkNode struct {
    Next  *LinkNode
    Value *TreeNode
}

// é“¾è¡¨é˜Ÿåˆ—ï¼Œå…ˆè¿›å…ˆå‡º
type LinkQueue struct {
    root *LinkNode  // é“¾è¡¨èµ·ç‚¹
    size int        // é˜Ÿåˆ—çš„å…ƒç´ æ•°é‡
    lock sync.Mutex // ä¸ºäº†å¹¶å‘å®‰å…¨ä½¿ç”¨çš„é”
}

// å…¥é˜Ÿ
func (queue *LinkQueue) Add(v *TreeNode) {
    queue.lock.Lock()
    defer queue.lock.Unlock()

    // å¦‚æœæ ˆé¡¶ä¸ºç©ºï¼Œé‚£ä¹ˆå¢åŠ èŠ‚ç‚¹
    if queue.root == nil {
        queue.root = new(LinkNode)
        queue.root.Value = v
    } else {
        // å¦åˆ™æ–°å…ƒç´ æ’å…¥é“¾è¡¨çš„æœ«å°¾
        // æ–°èŠ‚ç‚¹
        newNode := new(LinkNode)
        newNode.Value = v

        // ä¸€ç›´éå†åˆ°é“¾è¡¨å°¾éƒ¨
        nowNode := queue.root
        for nowNode.Next != nil {
            nowNode = nowNode.Next
        }

        // æ–°èŠ‚ç‚¹æ”¾åœ¨é“¾è¡¨å°¾éƒ¨
        nowNode.Next = newNode
    }

    // é˜Ÿä¸­å…ƒç´ æ•°é‡+1
    queue.size = queue.size + 1
}

// å‡ºé˜Ÿ
func (queue *LinkQueue) Remove() *TreeNode {
    queue.lock.Lock()
    defer queue.lock.Unlock()

    // é˜Ÿä¸­å…ƒç´ å·²ç©º
    if queue.size == 0 {
        panic("over limit")
    }

    // é¡¶éƒ¨å…ƒç´ è¦å‡ºé˜Ÿ
    topNode := queue.root
    v := topNode.Value

    // å°†é¡¶éƒ¨å…ƒç´ çš„åç»§é“¾æ¥é“¾ä¸Š
    queue.root = topNode.Next

    // é˜Ÿä¸­å…ƒç´ æ•°é‡-1
    queue.size = queue.size - 1

    return v
}

// é˜Ÿåˆ—ä¸­å…ƒç´ æ•°é‡
func (queue *LinkQueue) Size() int {
    return queue.size
}

func main() {
    t := &TreeNode{Data: "A"}
    t.Left = &TreeNode{Data: "B"}
    t.Right = &TreeNode{Data: "C"}
    t.Left.Left = &TreeNode{Data: "D"}
    t.Left.Right = &TreeNode{Data: "E"}
    t.Right.Left = &TreeNode{Data: "F"}

    fmt.Println("\nå±‚æ¬¡æ’åº")
    LayerOrder(t)
}
```

è¾“å‡ºï¼š
```
å±‚æ¬¡æ’åº
A B C D E F
```
